<% use crate::NotificationLevel; %>
<turbo-frame id="notifications-banner" class="position-relative d-block">
  <% if !remove_banner {%>
  <div data-controller="notifications-banner">
    <div class="<%- notification.level.to_string() %> W-100">
      <div class="banner d-flex container p-1">
        <div class="flex-grow-1 d-flex flex-column flex-md-row justify-content-center align-items-center row-gap-0 column-gap-3 fw-semibold overflow-hidden">
          <div class="mx-3 overflow-hidden" style="max-width: 80%;">
            <p class="m-0 text-center"><%- notification.message %></p>
          </div>
          <% if notification.link.is_some() {%>
          <a class="btn btn-tertiary fw-semibold p-0" href="<%- notification.link.unwrap() %>" data-turbo="false">
            Learn More 
            <span class="material-symbols-outlined">arrow_forward</span>
          </a>
          <% } %>
        </div>
        <% if notification.dismissible {%>
        <a class="w-0 overflow-visible d-flex align-items-center" style="right: 4vw" href="/dashboard/notifications/remove_banner?id=<%- notification.id%>">
          <span class="material-symbols-outlined <% if notification.level == NotificationLevel::Tip {%>close-light<% } else {%>close-dark<% } %>">
            close
          </span></a>
        <% } %>
      </div>
    </div>
  </div>
  <% } %>
</turbo-frame>
