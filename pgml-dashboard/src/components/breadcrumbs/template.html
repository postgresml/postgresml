<%
  use crate::utils::config;
  use crate::utils::urls;
  use crate::components::dropdown::Dropdown;

  let home_uri = if config::standalone_dashboard() {
    urls::deployment_notebooks()
  } else {
    "/deployments".to_string()
  };
%>

<nav>
  <nav aria-label="breadcrumb z-1">
    <ol class="breadcrumb">
      <!-- <li class="breadcrumb-item body-regular-text <% if path.is_empty() {%>active<% } %>">
        <a class="d-flex gap-2 align-items-center" href="<%- home_uri %>">
          <span class="icon-owl icomoon"></span>
          Home
        </a>
      </li> -->

      <% if !organizations.is_empty() {%>
      <li>
        <%+ Dropdown::nav(organizations) %>
      </li>
      <% } %>

      <% if !databases.is_empty() {%>
      <li>
        <%+ Dropdown::nav(databases) %>
      </li>
      <% } %>

      <% if !path.is_empty() {%>
      <div class="vr my-1 mx-2"></div>
      <% } %>

      <% for link in path {
        let active = if link.active {
          "active"
        } else {
          ""
        };
  
        let area = if link.active {
          r#"aria-current="page""#
        } else {
          ""
        };
  
      %>
      <li class="breadcrumb-item body-regular-text <%= active %>" <%- area %>>
        <a href="<%= link.href %>">
          <%= link.name %>
        </a>
        <% if active.is_empty() { %>
        <div class="vr my-1 ms-2"></div>
        <% } %>
      </li>
      <% } %>
    </ol>
  </nav>
</nav>
