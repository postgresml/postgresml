<!DOCTYPE html><html class=no-js lang=en> <head><meta charset=utf-8><meta content="width=device-width,initial-scale=1" name=viewport><meta content="Train and deploy models to make online predictions using only SQL, with an open source Postgres extension." name=description><meta content="PostrgesML Team" name=author><link href=https://postgresml.org/user_guides/setup/v2/installation/ rel=canonical><link href=/images/owl.ico rel=icon><meta content="mkdocs-1.4.2, mkdocs-material-8.5.10" name=generator><meta content=PostgresML property=og:site_name><meta content=v2.0 property=og:title><meta content="Train and deploy models to make online predictions using only SQL, with an open source Postgres extension." property=og:description><meta content=article property=og:type><title>v2.0 - PostgresML</title><link href=../../../../assets/stylesheets/main.975780f9.min.css rel=stylesheet><link href=../../../../assets/stylesheets/palette.2505c338.min.css rel=stylesheet><link crossorigin href=https://fonts.gstatic.com rel=preconnect><link href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback" rel=stylesheet><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><link href=../../../../stylesheets/extra.css rel=stylesheet><script>__md_scope=new URL("../../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script><script async data-website-id=499122fd-f307-4e8d-af4b-88b9f5e9903b defer src=https://data.cloud.hyperparam.ai/umami.js>
</script><script>"undefined"!=typeof __md_analytics&&__md_analytics()</script><link href=../../../../assets/stylesheets/glightbox.min.css rel=stylesheet><style>
            html.glightbox-open { overflow: initial; height: 100%; }
            .gslide-title { margin-top: 0px; user-select: text; }
            .gslide-desc { color: #666; user-select: text; }
            .gslide-image img { background: white; }
            
                .gscrollbar-fixer { padding-right: 15px; }
                .gdesc-inner { font-size: 0.75rem; }
                body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color);}
                body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color);}
                body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color);}
                </style><script src=../../../../assets/javascripts/glightbox.min.js></script></head> <body data-md-color-accent=blue data-md-color-primary=indigo data-md-color-scheme=default dir=ltr> <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script> <input autocomplete=off class=md-toggle data-md-toggle=drawer id=__drawer type=checkbox> <input autocomplete=off class=md-toggle data-md-toggle=search id=__search type=checkbox> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a class=md-skip href=#installation> Skip to content </a> </div> <div data-md-component=announce> </div> <header class=md-header data-md-component=header> <nav aria-label=Header class="md-header__inner md-grid"> <a aria-label=PostgresML class="md-header__button md-logo" data-md-component=logo href=../../../.. title=PostgresML> <img alt=logo src=/images/owl_white.png> </a> <label class="md-header__button md-icon" for=__drawer> <svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"></path></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> Postgres<span style="color: dodgerblue">ML</span> </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> v2.0 </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input aria-label="Switch to dark mode" class=md-option data-md-color-accent=blue data-md-color-media="(prefers-color-scheme: light)" data-md-color-primary=indigo data-md-color-scheme=default id=__palette_1 name=__palette type=radio> <label class="md-header__button md-icon" for=__palette_2 hidden title="Switch to dark mode"> <svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3Z"></path></svg> </label> <input aria-label="Switch to light mode" class=md-option data-md-color-accent=blue data-md-color-media="(prefers-color-scheme: dark)" data-md-color-primary=blue data-md-color-scheme=slate id=__palette_2 name=__palette type=radio> <label class="md-header__button md-icon" for=__palette_1 hidden title="Switch to light mode"> <svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6zm0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4zM7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"></path></svg> </label> </form> <label class="md-header__button md-icon" for=__search> <svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"></path></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input aria-label=Search autocapitalize=off autocomplete=off autocorrect=off class=md-search__input data-md-component=search-query name=query placeholder=Search required spellcheck=false type=text> <label class="md-search__icon md-icon" for=__search> <svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"></path></svg> <svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"></path></svg> </label> <nav aria-label=Search class=md-search__options> <button aria-label=Clear class="md-search__icon md-icon" tabindex=-1 title=Clear type=reset> <svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"></path></svg> </button> </nav> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a class=md-source data-md-component=source href=https://github.com/postgresml/postgresml title="Go to repository"> <div class="md-source__icon md-icon"> <svg viewbox="0 0 448 512" xmlns=http://www.w3.org/2000/svg><!-- Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"></path></svg> </div> <div class=md-source__repository> postgresml/postgresml </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <nav aria-label=Tabs class=md-tabs data-md-component=tabs> <div class="md-tabs__inner md-grid"> <ul class=md-tabs__list> <li class=md-tabs__item> <a class=md-tabs__link href=../../../..> PostgresML </a> </li> <li class=md-tabs__item> <a href=../../quick_start_with_docker/ class="md-tabs__link md-tabs__link--active"> User Guides </a> </li> <li class=md-tabs__item> <a href=../../../../developer_guide/overview/ class=md-tabs__link> Developer Guide </a> </li> <li class=md-tabs__item> <a href=../../../../blog/data-is-living-and-relational/ class=md-tabs__link> Blog </a> </li> <li class=md-tabs__item> <a href=../../../../about/team/ class=md-tabs__link> About </a> </li> </ul> </div> </nav> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav aria-label=Navigation class="md-nav md-nav--primary md-nav--lifted" data-md-level=0> <label class=md-nav__title for=__drawer> <a aria-label=PostgresML class="md-nav__button md-logo" data-md-component=logo href=../../../.. title=PostgresML> <img alt=logo src=/images/owl_white.png> </a> Postgres<span style="color: dodgerblue">ML</span> </label> <div class=md-nav__source> <a class=md-source data-md-component=source href=https://github.com/postgresml/postgresml title="Go to repository"> <div class="md-source__icon md-icon"> <svg viewbox="0 0 448 512" xmlns=http://www.w3.org/2000/svg><!-- Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"></path></svg> </div> <div class=md-source__repository> postgresml/postgresml </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a class=md-nav__link href=../../../..> PostgresML </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input checked class="md-nav__toggle md-toggle" data-md-toggle=__nav_2 id=__nav_2 type=checkbox> <label class=md-nav__link for=__nav_2> User Guides <span class="md-nav__icon md-icon"></span> </label> <nav aria-label="User Guides" class=md-nav data-md-level=1> <label class=md-nav__title for=__nav_2> <span class="md-nav__icon md-icon"></span> User Guides </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input checked class="md-nav__toggle md-toggle" data-md-toggle=__nav_2_1 id=__nav_2_1 type=checkbox> <label class=md-nav__link for=__nav_2_1> Setup <span class="md-nav__icon md-icon"></span> </label> <nav aria-label=Setup class=md-nav data-md-level=2> <label class=md-nav__title for=__nav_2_1> <span class="md-nav__icon md-icon"></span> Setup </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../quick_start_with_docker/ class=md-nav__link> Quick Start with Docker </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input checked class="md-nav__toggle md-toggle" data-md-toggle=__nav_2_1_2 id=__nav_2_1_2 type=checkbox> <label class=md-nav__link for=__nav_2_1_2> Installation <span class="md-nav__icon md-icon"></span> </label> <nav aria-label=Installation class=md-nav data-md-level=3> <label class=md-nav__title for=__nav_2_1_2> <span class="md-nav__icon md-icon"></span> Installation </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" data-md-toggle=toc id=__toc type=checkbox> <label class="md-nav__link md-nav__link--active" for=__toc> v2.0 <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> v2.0 </a> <nav aria-label="Table of contents" class="md-nav md-nav--secondary"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a class=md-nav__link href=#extension> Extension </a> <nav aria-label=Extension class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a class=md-nav__link href=#dependencies> Dependencies </a> <nav aria-label=Dependencies class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a class=md-nav__link href=#python-37> Python 3.7+ </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#python-36-and-below> Python 3.6 and below </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#postgresql> PostgreSQL </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a class=md-nav__link href=#install-the-extension> Install the extension </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#enable-the-extension> Enable the extension </a> <nav aria-label="Enable the extension" class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a class=md-nav__link href=#update-postgresqlconf> Update postgresql.conf </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#install-into-database> Install into database </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a class=md-nav__link href=#run-the-dashboard> Run the dashboard </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../upgrade-from-v1/ class=md-nav__link> Upgrading from v1.0 to v2.0 </a> </li> <li class=md-nav__item> <a href=../../installation/ class=md-nav__link> v1.0 </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../distributed_training/ class=md-nav__link> Distributed Training </a> </li> <li class=md-nav__item> <a href=../../gpu_support/ class=md-nav__link> GPU Support </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_2_2 id=__nav_2_2 type=checkbox> <label class=md-nav__link for=__nav_2_2> Training <span class="md-nav__icon md-icon"></span> </label> <nav aria-label=Training class=md-nav data-md-level=2> <label class=md-nav__title for=__nav_2_2> <span class="md-nav__icon md-icon"></span> Training </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../training/overview/ class=md-nav__link> Training Overview </a> </li> <li class=md-nav__item> <a href=../../../training/algorithm_selection/ class=md-nav__link> Algorithm Selection </a> </li> <li class=md-nav__item> <a href=../../../training/preprocessing/ class=md-nav__link> Preprocessing Data </a> </li> <li class=md-nav__item> <a href=../../../training/hyperparameter_search/ class=md-nav__link> Hyperparameter Search </a> </li> <li class=md-nav__item> <a href=../../../training/joint_optimization/ class=md-nav__link> Joint Optimization </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_2_3 id=__nav_2_3 type=checkbox> <label class=md-nav__link for=__nav_2_3> Predictions <span class="md-nav__icon md-icon"></span> </label> <nav aria-label=Predictions class=md-nav data-md-level=2> <label class=md-nav__title for=__nav_2_3> <span class="md-nav__icon md-icon"></span> Predictions </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../predictions/overview/ class=md-nav__link> Prediction Overview </a> </li> <li class=md-nav__item> <a href=../../../predictions/batch/ class=md-nav__link> Batch Predictions </a> </li> <li class=md-nav__item> <a href=../../../predictions/deployments/ class=md-nav__link> Deploying Models </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../../vector_operations/overview/ class=md-nav__link> Vector Operations </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_2_5 id=__nav_2_5 type=checkbox> <label class=md-nav__link for=__nav_2_5> Transformers <span class="md-nav__icon md-icon"></span> </label> <nav aria-label=Transformers class=md-nav data-md-level=2> <label class=md-nav__title for=__nav_2_5> <span class="md-nav__icon md-icon"></span> Transformers </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../transformers/setup/ class=md-nav__link> Setup </a> </li> <li class=md-nav__item> <a href=../../../transformers/pre_trained_models/ class=md-nav__link> Pre-Trained Models </a> </li> <li class=md-nav__item> <a href=../../../transformers/fine_tuning/ class=md-nav__link> Fine Tuning </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../../dashboard/overview/ class=md-nav__link> Dashboard </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_2_7 id=__nav_2_7 type=checkbox> <label class=md-nav__link for=__nav_2_7> Schema <span class="md-nav__icon md-icon"></span> </label> <nav aria-label=Schema class=md-nav data-md-level=2> <label class=md-nav__title for=__nav_2_7> <span class="md-nav__icon md-icon"></span> Schema </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../schema/models/ class=md-nav__link> Models </a> </li> <li class=md-nav__item> <a href=../../../schema/snapshots/ class=md-nav__link> Snapshots </a> </li> <li class=md-nav__item> <a href=../../../schema/projects/ class=md-nav__link> Projects </a> </li> <li class=md-nav__item> <a href=../../../schema/deployments/ class=md-nav__link> Deployments </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_3 id=__nav_3 type=checkbox> <label class=md-nav__link for=__nav_3> Developer Guide <span class="md-nav__icon md-icon"></span> </label> <nav aria-label="Developer Guide" class=md-nav data-md-level=1> <label class=md-nav__title for=__nav_3> <span class="md-nav__icon md-icon"></span> Developer Guide </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../developer_guide/overview/ class=md-nav__link> Developer Overview </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4 id=__nav_4 type=checkbox> <label class=md-nav__link for=__nav_4> Blog <span class="md-nav__icon md-icon"></span> </label> <nav aria-label=Blog class=md-nav data-md-level=1> <label class=md-nav__title for=__nav_4> <span class="md-nav__icon md-icon"></span> Blog </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../blog/data-is-living-and-relational/ class=md-nav__link> Data is Living and Relational </a> </li> <li class=md-nav__item> <a href=../../../../blog/postgres-full-text-search-is-awesome/ class=md-nav__link> Postgres Full Text Search is Awesome </a> </li> <li class=md-nav__item> <a href=../../../../blog/which-database-that-is-the-question/ class=md-nav__link> Which Database, That is the Question </a> </li> <li class=md-nav__item> <a href=../../../../blog/oxidizing-machine-learning/ class=md-nav__link> Oxidizing Machine Learning </a> </li> <li class=md-nav__item> <a href=../../../../blog/postgresml-is-moving-to-rust-for-our-2.0-release/ class=md-nav__link> PostgresML is Moving to Rust for our 2.0 Release </a> </li> <li class=md-nav__item> <a href=../../../../blog/backwards-compatible-or-bust-python-inside-rust-inside-postgres/ class=md-nav__link> Backwards Compatible or Bust: Python Inside Rust Inside Postgres </a> </li> <li class=md-nav__item> <a href=../../../../blog/postgresml-is-8x-faster-than-python-http-microservices/ class=md-nav__link> PostgresML is 8-40x faster than Python HTTP microservices </a> </li> <li class=md-nav__item> <a href=../../../../blog/scaling-postgresml-to-one-million-requests-per-second/ class=md-nav__link> Scaling PostgresML to 1 Million Requests per Second </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_5 id=__nav_5 type=checkbox> <label class=md-nav__link for=__nav_5> About <span class="md-nav__icon md-icon"></span> </label> <nav aria-label=About class=md-nav data-md-level=1> <label class=md-nav__title for=__nav_5> <span class="md-nav__icon md-icon"></span> About </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../about/team/ class=md-nav__link> Team </a> </li> <li class=md-nav__item> <a href=../../../../about/roadmap/ class=md-nav__link> Roadmap </a> </li> <li class=md-nav__item> <a href=../../../../about/motivation/ class=md-nav__link> Motivation </a> </li> <li class=md-nav__item> <a href=../../../../about/faq/ class=md-nav__link> FAQ </a> </li> <li class=md-nav__item> <a href=../../../../about/license/ class=md-nav__link> License </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav aria-label="Table of contents" class="md-nav md-nav--secondary"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a class=md-nav__link href=#extension> Extension </a> <nav aria-label=Extension class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a class=md-nav__link href=#dependencies> Dependencies </a> <nav aria-label=Dependencies class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a class=md-nav__link href=#python-37> Python 3.7+ </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#python-36-and-below> Python 3.6 and below </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#postgresql> PostgreSQL </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a class=md-nav__link href=#install-the-extension> Install the extension </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#enable-the-extension> Enable the extension </a> <nav aria-label="Enable the extension" class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a class=md-nav__link href=#update-postgresqlconf> Update postgresql.conf </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#install-into-database> Install into database </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a class=md-nav__link href=#run-the-dashboard> Run the dashboard </a> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <a class="md-content__button md-icon" href=https://github.com/postgresml/postgresml/blob/master/pgml-docs/docs/user_guides/setup/v2/installation.md title="Edit this page"> <svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25Z"></path></svg> </a> <h1 id=installation>Installation<a class=headerlink href=#installation title="Permanent link">¶</a></h1> <p>The PostgresML deployment consists of two parts: the Postgres extension and the dashboard app. The extension provides all the machine learning functionality and can be used independently. The dashboard app provides a system overview for easier management and notebooks for writing experiments.</p> <h2 id=extension>Extension<a class=headerlink href=#extension title="Permanent link">¶</a></h2> <p>The extension can be installed from our Ubuntu <code>apt</code> repository or, if you're using a different distribution, from source.</p> <h3 id=dependencies>Dependencies<a class=headerlink href=#dependencies title="Permanent link">¶</a></h3> <h4 id=python-37>Python 3.7+<a class=headerlink href=#python-37 title="Permanent link">¶</a></h4> <p>PostgresML 2.0 distributed through <code>apt</code> requires Python 3.7 or higher. We use Python to provide backwards compatibility with Scikit and other machine learning libraries from that ecosystem.</p> <p>You will also need to install the following Python packages:</p> <div class=highlight><pre><span></span><code><a href=#__codelineno-0-1 id=__codelineno-0-1 name=__codelineno-0-1></a>sudo pip3 install xgboost lightgbm scikit-learn
</code></pre></div> <h4 id=python-36-and-below>Python 3.6 and below<a class=headerlink href=#python-36-and-below title="Permanent link">¶</a></h4> <p>If your system Python is older, consider installing a newer version from <a href=https://launchpad.net/~deadsnakes/+archive/ubuntu/ppa><code>ppa:deadsnakes/ppa</code></a> or Homebrew. If you don't want to or can't have Python 3.7 or higher on your system, refer to <strong><span class=twemoji><svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M14.62 8.35c-.42.28-1.75 1.04-1.95 1.19-.39.31-.75.29-1.14-.01-.2-.16-1.53-.92-1.95-1.19-.48-.31-.45-.7.08-.92 1.64-.69 3.28-.64 4.91.03.49.21.51.6.05.9m7.22 7.28c-.93-2.09-2.2-3.99-3.84-5.66a4.31 4.31 0 0 1-1.06-1.88c-.1-.33-.17-.67-.24-1.01-.2-.88-.29-1.78-.7-2.61-.73-1.58-2-2.4-3.84-2.47-1.81.05-3.16.81-3.95 2.4-.21.43-.36.88-.46 1.34-.17.76-.32 1.55-.5 2.32-.15.65-.45 1.21-.96 1.71-1.61 1.57-2.9 3.37-3.88 5.35-.14.29-.28.58-.37.88-.19.66.29 1.12.99.96.44-.09.88-.18 1.3-.31.41-.15.57-.05.67.35.65 2.15 2.07 3.66 4.24 4.5 4.12 1.56 8.93-.66 9.97-4.58.07-.27.17-.37.47-.27.46.14.93.24 1.4.35.49.09.85-.16.92-.64.03-.26-.06-.49-.16-.73"></path></svg></span> <span class=twemoji><svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M2 3h9v9H2V3m9 19H2v-9h9v9M21 3v9h-9V3h9m0 19h-9v-9h9v9Z"></path></svg></span> From Source (Linux &amp; WSL)</strong> below for building without Python support.</p> <h4 id=postgresql>PostgreSQL<a class=headerlink href=#postgresql title="Permanent link">¶</a></h4> <p>PostgresML is a Postgres extension and requires PostgreSQL to be installed. We support PostgreSQL 11 through 15. You can use the PostgreSQL version that comes with your system or get it from the <a href=https://wiki.postgresql.org/wiki/Apt>PostgreSQL PPA</a>.</p> <div class=highlight><pre><span></span><code><a href=#__codelineno-1-1 id=__codelineno-1-1 name=__codelineno-1-1></a>sudo<span class=w> </span>apt-get<span class=w> </span>update<span class=w> </span><span class=o>&amp;&amp;</span><span class=w> </span><span class=se>\</span>
<a href=#__codelineno-1-2 id=__codelineno-1-2 name=__codelineno-1-2></a>sudo<span class=w> </span>apt-get<span class=w> </span>install<span class=w> </span>postgresql
</code></pre></div> <h3 id=install-the-extension>Install the extension<a class=headerlink href=#install-the-extension title="Permanent link">¶</a></h3> <div class="tabbed-set tabbed-alternate" data-tabs=1:3><input checked=checked id=__tabbed_1_1 name=__tabbed_1 type=radio><input id=__tabbed_1_2 name=__tabbed_1 type=radio><input id=__tabbed_1_3 name=__tabbed_1 type=radio><div class=tabbed-labels><label for=__tabbed_1_1><span class=twemoji><svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M22 12a10 10 0 0 1-10 10A10 10 0 0 1 2 12 10 10 0 0 1 12 2a10 10 0 0 1 10 10m-7.66-4.26c.58.33 1.31.13 1.66-.44.31-.57.12-1.3-.46-1.64-.57-.33-1.31-.16-1.64.44-.33.57-.13 1.31.44 1.64m-2.46 7.76c-.53 0-1.03-.11-1.47-.32l-.84 1.5c.7.32 1.48.54 2.31.54.49 0 .95-.07 1.4-.19.08-.49.36-.93.82-1.19.46-.27.98-.29 1.44-.12.89-.87 1.46-2.06 1.55-3.39l-1.71-.02a3.506 3.506 0 0 1-3.5 3.19m0-7c1.84 0 3.34 1.39 3.5 3.19l1.71-.03a5.209 5.209 0 0 0-1.55-3.38c-.46.17-.99.14-1.44-.12-.46-.26-.74-.71-.82-1.19-.45-.12-.91-.19-1.4-.19-.83 0-1.61.19-2.31.54l.84 1.5c.44-.21.94-.32 1.47-.32M8.37 12c0-1.19.59-2.24 1.49-2.87L9 7.65a5.217 5.217 0 0 0-2.17 3.04c.38.31.62.78.62 1.31s-.24 1-.62 1.31A5.195 5.195 0 0 0 9 16.34l.86-1.47c-.9-.63-1.49-1.68-1.49-2.87m5.97 4.26c-.57.33-.77 1.06-.44 1.64.33.57 1.07.77 1.64.44.58-.34.77-1.07.46-1.64-.35-.58-1.08-.77-1.66-.44M5.76 10.8c-.66 0-1.2.54-1.2 1.2 0 .66.54 1.2 1.2 1.2.67 0 1.2-.54 1.2-1.2 0-.66-.53-1.2-1.2-1.2Z"></path></svg></span> Ubuntu</label><label for=__tabbed_1_2><span class=twemoji><svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M14.62 8.35c-.42.28-1.75 1.04-1.95 1.19-.39.31-.75.29-1.14-.01-.2-.16-1.53-.92-1.95-1.19-.48-.31-.45-.7.08-.92 1.64-.69 3.28-.64 4.91.03.49.21.51.6.05.9m7.22 7.28c-.93-2.09-2.2-3.99-3.84-5.66a4.31 4.31 0 0 1-1.06-1.88c-.1-.33-.17-.67-.24-1.01-.2-.88-.29-1.78-.7-2.61-.73-1.58-2-2.4-3.84-2.47-1.81.05-3.16.81-3.95 2.4-.21.43-.36.88-.46 1.34-.17.76-.32 1.55-.5 2.32-.15.65-.45 1.21-.96 1.71-1.61 1.57-2.9 3.37-3.88 5.35-.14.29-.28.58-.37.88-.19.66.29 1.12.99.96.44-.09.88-.18 1.3-.31.41-.15.57-.05.67.35.65 2.15 2.07 3.66 4.24 4.5 4.12 1.56 8.93-.66 9.97-4.58.07-.27.17-.37.47-.27.46.14.93.24 1.4.35.49.09.85-.16.92-.64.03-.26-.06-.49-.16-.73"></path></svg></span> <span class=twemoji><svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M2 3h9v9H2V3m9 19H2v-9h9v9M21 3v9h-9V3h9m0 19h-9v-9h9v9Z"></path></svg></span> From Source (Linux &amp; WSL)</label><label for=__tabbed_1_3><span class=twemoji><svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M18.71 19.5c-.83 1.24-1.71 2.45-3.05 2.47-1.34.03-1.77-.79-3.29-.79-1.53 0-2 .77-3.27.82-1.31.05-2.3-1.32-3.14-2.53C4.25 17 2.94 12.45 4.7 9.39c.87-1.52 2.43-2.48 4.12-2.51 1.28-.02 2.5.87 3.29.87.78 0 2.26-1.07 3.81-.91.65.03 2.47.26 3.64 1.98-.09.06-2.17 1.28-2.15 3.81.03 3.02 2.65 4.03 2.68 4.04-.03.07-.42 1.44-1.38 2.83M13 3.5c.73-.83 1.94-1.46 2.94-1.5.13 1.17-.34 2.35-1.04 3.19-.69.85-1.83 1.51-2.95 1.42-.15-1.15.41-2.35 1.05-3.11Z"></path></svg></span> From Source (Mac)</label></div> <div class=tabbed-content> <div class=tabbed-block> <ol> <li> <p>Add our repository into your sources:</p> <div class=highlight><pre><span></span><code><a href=#__codelineno-2-1 id=__codelineno-2-1 name=__codelineno-2-1></a><span class=nb>echo</span><span class=w> </span><span class=s2>"deb [trusted=yes] https://apt.postgresml.org </span><span class=k>$(</span>lsb_release<span class=w> </span>-cs<span class=k>)</span><span class=s2> main"</span><span class=w> </span><span class=p>|</span><span class=w> </span>sudo<span class=w> </span>tee<span class=w> </span>-a<span class=w> </span>/etc/apt/sources.list
</code></pre></div> </li> <li> <p>Install the extension:</p> <div class=highlight><pre><span></span><code><a href=#__codelineno-3-1 id=__codelineno-3-1 name=__codelineno-3-1></a>export POSTGRES_VERSION=15
<a href=#__codelineno-3-2 id=__codelineno-3-2 name=__codelineno-3-2></a>sudo apt-get update &amp;&amp; sudo apt-get install -y postgresql-pgml-${POSTGRES_VERSION}
</code></pre></div> </li> </ol> <p>Both ARM and Intel/AMD architectures are supported.</p> </div> <div class=tabbed-block> <p>These instructions assume a Debian flavor Linux and PostgreSQL 15. Adjust the PostgreSQL version accordingly if yours is different. Other flavors of Linux should work, but have not been tested. PostgreSQL 11 through 15 are supported.</p> <ol> <li> <p>Install the latest Rust compiler from <a href=https://www.rust-lang.org/learn/get-started>rust-lang.org</a>.</p> </li> <li> <p>Install a <a href=https://apt.kitware.com/ >modern version</a> of CMake.</p> </li> <li> <p>Install PostgreSQL development headers and other dependencies:</p> <div class=highlight><pre><span></span><code><a href=#__codelineno-4-1 id=__codelineno-4-1 name=__codelineno-4-1></a><span class=nb>export</span><span class=w> </span><span class=nv>POSTGRES_VERSION</span><span class=o>=</span><span class=m>15</span>
<a href=#__codelineno-4-2 id=__codelineno-4-2 name=__codelineno-4-2></a>sudo<span class=w> </span>apt-get<span class=w> </span>update<span class=w> </span><span class=o>&amp;&amp;</span><span class=w> </span><span class=se>\</span>
<a href=#__codelineno-4-3 id=__codelineno-4-3 name=__codelineno-4-3></a>sudo<span class=w> </span>apt-get<span class=w> </span>install<span class=w> </span>-y<span class=w> </span><span class=se>\</span>
<a href=#__codelineno-4-4 id=__codelineno-4-4 name=__codelineno-4-4></a><span class=w>    </span>postgresql-server-dev-<span class=si>${</span><span class=nv>POSTGRES_VERSION</span><span class=si>}</span><span class=w> </span><span class=se>\</span>
<a href=#__codelineno-4-5 id=__codelineno-4-5 name=__codelineno-4-5></a><span class=w>    </span>bison<span class=w> </span><span class=se>\</span>
<a href=#__codelineno-4-6 id=__codelineno-4-6 name=__codelineno-4-6></a><span class=w>    </span>build-essential<span class=w> </span><span class=se>\</span>
<a href=#__codelineno-4-7 id=__codelineno-4-7 name=__codelineno-4-7></a><span class=w>    </span>clang<span class=w> </span><span class=se>\</span>
<a href=#__codelineno-4-8 id=__codelineno-4-8 name=__codelineno-4-8></a><span class=w>    </span>cmake<span class=w> </span><span class=se>\</span>
<a href=#__codelineno-4-9 id=__codelineno-4-9 name=__codelineno-4-9></a><span class=w>    </span>flex<span class=w> </span><span class=se>\</span>
<a href=#__codelineno-4-10 id=__codelineno-4-10 name=__codelineno-4-10></a><span class=w>    </span>libclang-dev<span class=w> </span><span class=se>\</span>
<a href=#__codelineno-4-11 id=__codelineno-4-11 name=__codelineno-4-11></a><span class=w>    </span>libopenblas-dev<span class=w> </span><span class=se>\</span>
<a href=#__codelineno-4-12 id=__codelineno-4-12 name=__codelineno-4-12></a><span class=w>    </span>libpython3-dev<span class=w> </span><span class=se>\</span>
<a href=#__codelineno-4-13 id=__codelineno-4-13 name=__codelineno-4-13></a><span class=w>    </span>libreadline-dev<span class=w> </span><span class=se>\</span>
<a href=#__codelineno-4-14 id=__codelineno-4-14 name=__codelineno-4-14></a><span class=w>    </span>libssl-dev<span class=w> </span><span class=se>\</span>
<a href=#__codelineno-4-15 id=__codelineno-4-15 name=__codelineno-4-15></a><span class=w>    </span>pkg-config<span class=w> </span><span class=se>\</span>
<a href=#__codelineno-4-16 id=__codelineno-4-16 name=__codelineno-4-16></a><span class=w>    </span>python3-dev
</code></pre></div> </li> <li> <p>Clone our git repository:</p> <div class=highlight><pre><span></span><code><a href=#__codelineno-5-1 id=__codelineno-5-1 name=__codelineno-5-1></a>git<span class=w> </span>clone<span class=w> </span>https://github.com/postgresml/postgresml<span class=w> </span><span class=o>&amp;&amp;</span><span class=w> </span><span class=se>\</span>
<a href=#__codelineno-5-2 id=__codelineno-5-2 name=__codelineno-5-2></a><span class=nb>cd</span><span class=w> </span>postgresml<span class=w> </span><span class=o>&amp;&amp;</span><span class=w> </span><span class=se>\</span>
<a href=#__codelineno-5-3 id=__codelineno-5-3 name=__codelineno-5-3></a>git<span class=w> </span>submodule<span class=w> </span>update<span class=w> </span>--init<span class=w> </span>--recursive<span class=w> </span><span class=o>&amp;&amp;</span><span class=w> </span><span class=se>\</span>
<a href=#__codelineno-5-4 id=__codelineno-5-4 name=__codelineno-5-4></a><span class=nb>cd</span><span class=w> </span>pgml-extension
</code></pre></div> </li> <li> <p>Install <a href=https://github.com/tcdi/pgrx><code>pgrx</code></a> and build the extension (this will take a few minutes):</p> <p><strong>With Python support:</strong></p> <div class=highlight><pre><span></span><code><a href=#__codelineno-6-1 id=__codelineno-6-1 name=__codelineno-6-1></a><span class=nb>export</span><span class=w> </span><span class=nv>POSTGRES_VERSION</span><span class=o>=</span><span class=m>15</span>
<a href=#__codelineno-6-2 id=__codelineno-6-2 name=__codelineno-6-2></a>cargo<span class=w> </span>install<span class=w> </span>cargo-pgrx<span class=w> </span>--version<span class=w> </span><span class=s2>"0.8.2"</span><span class=w> </span>--locked<span class=w> </span><span class=o>&amp;&amp;</span><span class=w> </span><span class=se>\</span>
<a href=#__codelineno-6-3 id=__codelineno-6-3 name=__codelineno-6-3></a>cargo<span class=w> </span>pgrx<span class=w> </span>init<span class=w> </span>--pg<span class=si>${</span><span class=nv>POSTGRES_VERSION</span><span class=si>}</span><span class=w> </span>/usr/bin/pg_config<span class=w> </span><span class=o>&amp;&amp;</span><span class=w> </span><span class=se>\</span>
<a href=#__codelineno-6-4 id=__codelineno-6-4 name=__codelineno-6-4></a>cargo<span class=w> </span>pgrx<span class=w> </span>package
</code></pre></div> <p><strong>Without Python support:</strong></p> <div class=highlight><pre><span></span><code><a href=#__codelineno-7-1 id=__codelineno-7-1 name=__codelineno-7-1></a><span class=nb>export</span><span class=w> </span><span class=nv>POSTGRES_VERSION</span><span class=o>=</span><span class=m>15</span>
<a href=#__codelineno-7-2 id=__codelineno-7-2 name=__codelineno-7-2></a>cp<span class=w> </span>docker/Cargo.toml.no-python<span class=w> </span>Cargo.toml<span class=w> </span><span class=o>&amp;&amp;</span><span class=w> </span><span class=se>\</span>
<a href=#__codelineno-7-3 id=__codelineno-7-3 name=__codelineno-7-3></a>cargo<span class=w> </span>install<span class=w> </span>cargo-pgrx<span class=w> </span>--version<span class=w> </span><span class=s2>"0.8.2"</span><span class=w> </span>--locked<span class=w> </span><span class=o>&amp;&amp;</span><span class=w> </span><span class=se>\</span>
<a href=#__codelineno-7-4 id=__codelineno-7-4 name=__codelineno-7-4></a>cargo<span class=w> </span>pgrx<span class=w> </span>init<span class=w> </span>--pg<span class=si>${</span><span class=nv>POSTGRES_VERSION</span><span class=si>}</span><span class=w> </span>/usr/bin/pg_config<span class=w> </span><span class=o>&amp;&amp;</span><span class=w> </span><span class=se>\</span>
<a href=#__codelineno-7-5 id=__codelineno-7-5 name=__codelineno-7-5></a>cargo<span class=w> </span>pgrx<span class=w> </span>package
</code></pre></div> </li> <li> <p>Copy the extension binaries into Postgres system folders:</p> <div class=highlight><pre><span></span><code><a href=#__codelineno-8-1 id=__codelineno-8-1 name=__codelineno-8-1></a><span class=nb>export</span><span class=w> </span><span class=nv>POSTGRES_VERSION</span><span class=o>=</span><span class=m>15</span>
<a href=#__codelineno-8-2 id=__codelineno-8-2 name=__codelineno-8-2></a>
<a href=#__codelineno-8-3 id=__codelineno-8-3 name=__codelineno-8-3></a><span class=c1># Copy the extension .so</span>
<a href=#__codelineno-8-4 id=__codelineno-8-4 name=__codelineno-8-4></a>sudo<span class=w> </span>cp<span class=w> </span>target/release/pgml-pg<span class=si>${</span><span class=nv>POSTGRES_VERSION</span><span class=si>}</span>/usr/lib/postgresql/<span class=si>${</span><span class=nv>POSTGRES_VERSION</span><span class=si>}</span>/lib/*<span class=w> </span><span class=se>\</span>
<a href=#__codelineno-8-5 id=__codelineno-8-5 name=__codelineno-8-5></a><span class=w>   </span>/usr/lib/postgresql/<span class=si>${</span><span class=nv>POSTGRES_VERSION</span><span class=si>}</span>/lib
<a href=#__codelineno-8-6 id=__codelineno-8-6 name=__codelineno-8-6></a>
<a href=#__codelineno-8-7 id=__codelineno-8-7 name=__codelineno-8-7></a><span class=c1># Copy the control &amp; SQL files</span>
<a href=#__codelineno-8-8 id=__codelineno-8-8 name=__codelineno-8-8></a>sudo<span class=w> </span>cp<span class=w> </span>target/release/pgml-pg<span class=si>${</span><span class=nv>POSTGRES_VERSION</span><span class=si>}</span>/usr/share/postgresql/<span class=si>${</span><span class=nv>POSTGRES_VERSION</span><span class=si>}</span>/extension/*<span class=w> </span><span class=se>\</span>
<a href=#__codelineno-8-9 id=__codelineno-8-9 name=__codelineno-8-9></a><span class=w>   </span>/usr/share/postgresql/<span class=si>${</span><span class=nv>POSTGRES_VERSION</span><span class=si>}</span>/extension
</code></pre></div> </li> </ol> </div> <div class=tabbed-block> <p><em>N.B.</em>: Apple M1s have an issue with <code>openmp</code> which XGBoost and LightGBM depend on, so presently the extension doesn't work on M1s and M2s. We're tracking this <a href=https://github.com/postgresml/postgresml/issues/364>issue</a>.</p> <ol> <li> <p>Install the latest Rust compiler from <a href=https://www.rust-lang.org/learn/get-started>rust-lang.org</a>.</p> </li> <li> <p>Clone our git repository:</p> <div class=highlight><pre><span></span><code><a href=#__codelineno-9-1 id=__codelineno-9-1 name=__codelineno-9-1></a>git clone https://github.com/postgresml/postgresml &amp;&amp; \
<a href=#__codelineno-9-2 id=__codelineno-9-2 name=__codelineno-9-2></a>cd postgresml &amp;&amp; \
<a href=#__codelineno-9-3 id=__codelineno-9-3 name=__codelineno-9-3></a>git submodule update --init --recursive &amp;&amp; \
<a href=#__codelineno-9-4 id=__codelineno-9-4 name=__codelineno-9-4></a>cd pgml-extension
</code></pre></div> </li> <li> <p>Install PostgreSQL and other dependencies:</p> <div class=highlight><pre><span></span><code><a href=#__codelineno-10-1 id=__codelineno-10-1 name=__codelineno-10-1></a>brew install llvm postgresql cmake openssl pkg-config
</code></pre></div> <p>Make sure to follow instructions from each package for post-installation steps. For example, <code>openssl</code> requires some environment variables set in <code>~/.zsh</code> for the compiler to find the library.</p> </li> <li> <p>Install <a href=https://github.com/tcdi/pgrx><code>pgrx</code></a> and build the extension (this will take a few minutes):</p> <div class=highlight><pre><span></span><code><a href=#__codelineno-11-1 id=__codelineno-11-1 name=__codelineno-11-1></a>cargo install cargo-pgrx &amp;&amp; \
<a href=#__codelineno-11-2 id=__codelineno-11-2 name=__codelineno-11-2></a>cargo pgrx init --pg15 /usr/bin/pg_config &amp;&amp; \
<a href=#__codelineno-11-3 id=__codelineno-11-3 name=__codelineno-11-3></a>cargo pgrx install
</code></pre></div> </li> </ol> </div> </div> </div> <h3 id=enable-the-extension>Enable the extension<a class=headerlink href=#enable-the-extension title="Permanent link">¶</a></h3> <h4 id=update-postgresqlconf>Update postgresql.conf<a class=headerlink href=#update-postgresqlconf title="Permanent link">¶</a></h4> <p>PostgresML needs to be preloaded at server startup, so you need to add it into <code>shared_preload_libraries</code>:</p> <div class=highlight><pre><span></span><code><a href=#__codelineno-12-1 id=__codelineno-12-1 name=__codelineno-12-1></a>shared_preload_libraries = 'pgml,pg_stat_statements'
</code></pre></div> <p>This setting change requires PostgreSQL to be restarted:</p> <div class=highlight><pre><span></span><code><a href=#__codelineno-13-1 id=__codelineno-13-1 name=__codelineno-13-1></a>sudo<span class=w> </span>service<span class=w> </span>postgresql<span class=w> </span>restart
</code></pre></div> <h4 id=install-into-database>Install into database<a class=headerlink href=#install-into-database title="Permanent link">¶</a></h4> <p>Now that the extension is installed on your system, add it into the database where you'd like to use it:</p> <div class="admonition note"> <p class=admonition-title>Note</p> <p>If you already have a v1.0 installation, see <a href=/user_guides/setup/v2/upgrade-from-v1/ >Upgrading to v2.0</a>.</p> </div> <div class="tabbed-set tabbed-alternate" data-tabs=2:2><input checked=checked id=__tabbed_2_1 name=__tabbed_2 type=radio><input id=__tabbed_2_2 name=__tabbed_2 type=radio><div class=tabbed-labels><label for=__tabbed_2_1>SQL</label><label for=__tabbed_2_2>Output</label></div> <div class=tabbed-content> <div class=tabbed-block> <p>Connect to the database and create the extension:</p> <div class=highlight><pre><span></span><code><a href=#__codelineno-14-1 id=__codelineno-14-1 name=__codelineno-14-1></a><span class=k>CREATE</span><span class=w> </span><span class=k>EXTENSION</span><span class=w> </span><span class=n>pgml</span><span class=p>;</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><a href=#__codelineno-15-1 id=__codelineno-15-1 name=__codelineno-15-1></a>postgres=# CREATE EXTENSION pgml;
<a href=#__codelineno-15-2 id=__codelineno-15-2 name=__codelineno-15-2></a>INFO:  Python version: 3.10.4 (main, Jun 29 2022, 12:14:53) [GCC 11.2.0]
<a href=#__codelineno-15-3 id=__codelineno-15-3 name=__codelineno-15-3></a>INFO:  Scikit-learn 1.1.3, XGBoost 1.7.1, LightGBM 3.3.3, NumPy 1.23.5
<a href=#__codelineno-15-4 id=__codelineno-15-4 name=__codelineno-15-4></a>CREATE EXTENSION
</code></pre></div> </div> </div> </div> <p>That's it, PostgresML is ready. You can validate the installation by running:</p> <div class="tabbed-set tabbed-alternate" data-tabs=3:2><input checked=checked id=__tabbed_3_1 name=__tabbed_3 type=radio><input id=__tabbed_3_2 name=__tabbed_3 type=radio><div class=tabbed-labels><label for=__tabbed_3_1>SQL</label><label for=__tabbed_3_2>Output</label></div> <div class=tabbed-content> <div class=tabbed-block> <div class=highlight><pre><span></span><code><a href=#__codelineno-16-1 id=__codelineno-16-1 name=__codelineno-16-1></a><span class=k>SELECT</span><span class=w> </span><span class=n>pgml</span><span class=p>.</span><span class=k>version</span><span class=p>();</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><a href=#__codelineno-17-1 id=__codelineno-17-1 name=__codelineno-17-1></a>postgres=# select pgml.version();
<a href=#__codelineno-17-2 id=__codelineno-17-2 name=__codelineno-17-2></a>      version      
<a href=#__codelineno-17-3 id=__codelineno-17-3 name=__codelineno-17-3></a>-------------------
<a href=#__codelineno-17-4 id=__codelineno-17-4 name=__codelineno-17-4></a> 2.4.8
<a href=#__codelineno-17-5 id=__codelineno-17-5 name=__codelineno-17-5></a>(1 row)
</code></pre></div> </div> </div> </div> <h2 id=run-the-dashboard>Run the dashboard<a class=headerlink href=#run-the-dashboard title="Permanent link">¶</a></h2> <p>The dashboard is a web app that can be run against any Postgres database with the extension installed. There is a Dockerfile included with the source code if you wish to run it as a container. Basic installation can be achieved with:</p> <ol> <li> <p>Clone the repo (if you haven't already for the extension): <div class=highlight><pre><span></span><code><a href=#__codelineno-18-1 id=__codelineno-18-1 name=__codelineno-18-1></a>git<span class=w> </span>clone<span class=w> </span>https://github.com/postgresml/postgresml<span class=w> </span><span class=o>&amp;&amp;</span><span class=w> </span><span class=nb>cd</span><span class=w> </span>postgresml/pgml-dashboard
</code></pre></div></p> </li> <li> <p>Set the <code>DATABASE_URL</code> environment variable: <div class=highlight><pre><span></span><code><a href=#__codelineno-19-1 id=__codelineno-19-1 name=__codelineno-19-1></a><span class=nb>export</span><span class=w> </span><span class=nv>DATABASE_URL</span><span class=o>=</span>postgres://user_name:password@localhost:5432/database_name
</code></pre></div></p> </li> <li> <p>Build and run the web application: <div class=highlight><pre><span></span><code><a href=#__codelineno-20-1 id=__codelineno-20-1 name=__codelineno-20-1></a>cargo<span class=w> </span>run
</code></pre></div></p> </li> </ol> <p>The dashboard can be packaged for distribution. You'll need to copy the static files along with the <code>target/release</code> directory to your server.</p> <h2 id=__comments>Comments</h2> <script async crossorigin=anonymous data-category=Announcements data-category-id=DIC_kwDOHJ_hQM4CQctz data-emit-metadata=0 data-input-position=top data-lang=en data-mapping=title data-reactions-enabled=1 data-repo=postgresml/postgresml data-repo-id=R_kgDOHJ_hQA data-strict=0 data-theme=light src=https://giscus.app/client.js>
</script> <script>
  var giscus = document.querySelector("script[src*=giscus]")

  /* Set palette on initial load */
  var palette = __md_get("__palette")
  if (palette && typeof palette.color === "object") {
    var theme = palette.color.scheme === "slate" ? "dark" : "light"
    giscus.setAttribute("data-theme", theme) 
  }

  /* Register event handlers after documented loaded */
  document.addEventListener("DOMContentLoaded", function() {
    var ref = document.querySelector("[data-md-component=palette]")
    ref.addEventListener("change", function() {
      var palette = __md_get("__palette")
      if (palette && typeof palette.color === "object") {
        var theme = palette.color.scheme === "slate" ? "dark" : "light"

        /* Instruct Giscus to change theme */
        var frame = document.querySelector(".giscus-frame")
        frame.contentWindow.postMessage(
          { giscus: { setConfig: { theme } } },
          "https://giscus.app"
        )
      }
    })
  })
</script> </article> </div> </div> <a class="md-top md-icon" data-md-component=top hidden href=#> <svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"></path></svg> Back to top </a> </main> <footer class=md-footer> <nav aria-label=Footer class="md-footer__inner md-grid"> <a aria-label="Previous: Quick Start with Docker" class="md-footer__link md-footer__link--prev" href=../../quick_start_with_docker/ rel=prev> <div class="md-footer__button md-icon"> <svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"></path></svg> </div> <div class=md-footer__title> <div class=md-ellipsis> <span class=md-footer__direction> Previous </span> Quick Start with Docker </div> </div> </a> <a aria-label="Next: Upgrading from v1.0 to v2.0" class="md-footer__link md-footer__link--next" href=../upgrade-from-v1/ rel=next> <div class=md-footer__title> <div class=md-ellipsis> <span class=md-footer__direction> Next </span> Upgrading from v1.0 to v2.0 </div> </div> <div class="md-footer__button md-icon"> <svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"></path></svg> </div> </a> </nav> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> <div class=md-copyright__highlight> Copyright © 2022 PostgresML Team </div> </div> <div class=md-social> <a class=md-social__link href=https://github.com/postgresml/postgresml rel=noopener target=_blank title=github.com> <svg viewbox="0 0 496 512" xmlns=http://www.w3.org/2000/svg><!-- Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"></path></svg> </a> <a class=md-social__link href=https://discord.gg/DmyJP3qJ7U rel=noopener target=_blank title=discord.gg> <svg viewbox="0 0 640 512" xmlns=http://www.w3.org/2000/svg><!-- Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M524.531 69.836a1.5 1.5 0 0 0-.764-.7A485.065 485.065 0 0 0 404.081 32.03a1.816 1.816 0 0 0-1.923.91 337.461 337.461 0 0 0-14.9 30.6 447.848 447.848 0 0 0-134.426 0 309.541 309.541 0 0 0-15.135-30.6 1.89 1.89 0 0 0-1.924-.91 483.689 483.689 0 0 0-119.688 37.107 1.712 1.712 0 0 0-.788.676C39.068 183.651 18.186 294.69 28.43 404.354a2.016 2.016 0 0 0 .765 1.375 487.666 487.666 0 0 0 146.825 74.189 1.9 1.9 0 0 0 2.063-.676A348.2 348.2 0 0 0 208.12 430.4a1.86 1.86 0 0 0-1.019-2.588 321.173 321.173 0 0 1-45.868-21.853 1.885 1.885 0 0 1-.185-3.126 251.047 251.047 0 0 0 9.109-7.137 1.819 1.819 0 0 1 1.9-.256c96.229 43.917 200.41 43.917 295.5 0a1.812 1.812 0 0 1 1.924.233 234.533 234.533 0 0 0 9.132 7.16 1.884 1.884 0 0 1-.162 3.126 301.407 301.407 0 0 1-45.89 21.83 1.875 1.875 0 0 0-1 2.611 391.055 391.055 0 0 0 30.014 48.815 1.864 1.864 0 0 0 2.063.7A486.048 486.048 0 0 0 610.7 405.729a1.882 1.882 0 0 0 .765-1.352c12.264-126.783-20.532-236.912-86.934-334.541ZM222.491 337.58c-28.972 0-52.844-26.587-52.844-59.239s23.409-59.241 52.844-59.241c29.665 0 53.306 26.82 52.843 59.239 0 32.654-23.41 59.241-52.843 59.241Zm195.38 0c-28.971 0-52.843-26.587-52.843-59.239s23.409-59.241 52.843-59.241c29.667 0 53.307 26.82 52.844 59.239 0 32.654-23.177 59.241-52.844 59.241Z"></path></svg> </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "../../../..", "features": ["navigation.instant", "navigation.tracking", "navigation.tabs", "navigation.top", "content.code.annotate"], "search": "../../../../assets/javascripts/workers/search.16e2a7d4.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}}</script> <script src=../../../../assets/javascripts/bundle.5a2dcb6a.min.js></script> <script>document$.subscribe(() => {const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});})</script></body> </html>